import{c as $,j as e,a as C,p as E,b as W,L as i}from"./index-Bl3LYA1H.js";import{u as B}from"./use-courses-DEqlss40.js";import{u as H}from"./use-exams-CKVDgMFb.js";import{u as I}from"./use-lecturers-BI2fuJt7.js";const z=$("/exa/ui/exams/$examId")({component:O});function O(){const{examId:h}=z.useParams(),{data:l,isLoading:g}=B(),{data:d,isLoading:j}=I(),{data:c,isLoading:p}=H();if(g||j||p)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(!l||!d||!c)return e.jsx("div",{className:"p-4 bg-yellow-50 text-yellow-600 rounded-lg",children:"No data available"});const v=C(l),f=E(d),t=W(c).find(s=>s.id===h),r=v.find(s=>s.id===(t==null?void 0:t.course)),a=f.find(s=>s.id===(r==null?void 0:r.lecturer)),b=s=>{if(!s)return null;try{const n=new Date(s);if(!isNaN(n.getTime()))return n;const x=s.match(/^(\d{4}-\d{2}-\d{2})T(\d+)T:(\d{2}):(\d{2})$/);if(!x)return null;const[,k,y,L,w]=x,M=`${y.padStart(2,"0")}:${L}:${w}`,D=`${k} ${M}`,u=new Date(D);return isNaN(u.getTime())?null:u}catch(n){return console.error("Error parsing date:",n),null}},N=s=>s?s.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}):"Date not set";if(!t)return e.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:"Exam not found"});const o=b(t.date),m=o?o>=new Date:!1;return e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"mb-8",children:[e.jsxs(i,{to:"/exa/ui/exams",className:"text-gray-600 hover:text-gray-900 transition-colors flex items-center gap-2 mb-4",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Exams"]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm mb-2 ${t.isWritten?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:t.isWritten?"Written Exam":"Oral Exam"}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[(r==null?void 0:r.name)??"Unknown Course"," Exam"]})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium ${m?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:m?"Upcoming":"Past"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Exam Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),N(o)]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.isOnline?"Online":"On-site"," - ",t.roomOrLink]})]})]}),r&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Course Information"}),e.jsxs(i,{to:"/exa/ui/courses/$courseId",params:{courseId:r.id??""},className:"block bg-gray-50 rounded-lg p-6 border border-gray-200 hover:border-blue-300 transition-colors",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),r.faculty]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),"Max Students: ",r.maxStudents]})]})]})]})]}),a&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Lecturer"}),e.jsx(i,{to:"/exa/ui/lecturers/$lecturerId",params:{lecturerId:a.id??""},className:"block bg-gray-50 rounded-lg p-6 border border-gray-200 hover:border-blue-300 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("img",{src:`https://i.pravatar.cc/150?u=${a.id}`,alt:`${a.firstname} ${a.name}`,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[a.firstname," ",a.name]}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),a.faculty??"No Faculty"]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})}),a.username]})]})]})]})})]})]})]})]})})}export{z as Route};
