import{c as k,r as c,j as e,a as L,b as C}from"./index-DSJp-6DX.js";import{u as O}from"./use-courses-OPlSFn_g.js";import{u as W,T as E}from"./MOCKS-Cy0Gad-P.js";const M=()=>W({queryKey:["exams"],queryFn:()=>E}),A=k("/exa/ui/exams")({component:F});function F(){const{data:u,isLoading:h,error:n}=M(),{data:x,isLoading:p,error:a}=O(),[d,g]=c.useState("upcoming"),[l,j]=c.useState("all"),[i,f]=c.useState("all");if(h||p)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(n||a)return e.jsxs("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:["Error: ",(n==null?void 0:n.message)||(a==null?void 0:a.message)]});if(!u||!x)return e.jsx("div",{className:"p-4 bg-yellow-50 text-yellow-600 rounded-lg",children:"No exam data available"});const v=L(u),b=C(x),y=[...v].sort((s,t)=>(s.date??"").localeCompare(t.date??"")),m=new Date,o=y.filter(s=>{const t=s.date?new Date(s.date):null,r=t?t>=m:!1;return!(d==="upcoming"&&!r||d==="past"&&r||l!=="all"&&(l==="written"&&!s.isWritten||l==="oral"&&s.isWritten)||i!=="all"&&(i==="online"&&!s.isOnline||i==="onsite"&&s.isOnline))});return e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Exams"}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[e.jsxs("select",{className:"px-4 py-2 rounded-lg border border-gray-300 bg-white",value:d,onChange:s=>g(s.target.value),children:[e.jsx("option",{value:"all",children:"All Exams"}),e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"past",children:"Past"})]}),e.jsxs("select",{className:"px-4 py-2 rounded-lg border border-gray-300 bg-white",value:l,onChange:s=>j(s.target.value),children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"written",children:"Written"}),e.jsx("option",{value:"oral",children:"Oral"})]}),e.jsxs("select",{className:"px-4 py-2 rounded-lg border border-gray-300 bg-white",value:i,onChange:s=>f(s.target.value),children:[e.jsx("option",{value:"all",children:"All Locations"}),e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"onsite",children:"On-site"})]})]}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Showing ",o.length," exam",o.length!==1?"s":""]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(s=>{const t=b.find(w=>w.id===s.course),r=s.date?new Date(s.date):null,N=r?r>=m:!1;return e.jsxs("div",{className:`rounded-xl border ${N?"bg-white border-blue-200":"bg-gray-50 border-gray-200"} p-6 shadow-sm hover:shadow-md transition-shadow`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 flex-1",children:(t==null?void 0:t.name)??"Unknown Course"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${s.isWritten?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:s.isWritten?"Written":"Oral"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(r==null?void 0:r.toLocaleString())??"Date not set"]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.isOnline?"Online":"On-site"]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),s.roomOrLink]})]})]},s.id)})}),o.length===0&&e.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-gray-600",children:"No exams match your filters"})})]})}export{A as Route};
